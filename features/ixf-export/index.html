<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>IX-F Member Export - IXP Manager Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "IX-F Member Export";
    var mkdocs_page_input_path = "features/ixf-export.md";
    var mkdocs_page_url = "/features/ixf-export/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> IXP Manager Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../install/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/automated-script/">Automated Script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/maint-mode/">Maintenance Mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/manually/">Manual Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/upgrading/">Upgrading</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/runtime/">Runtime Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/next-steps/">Post-Install Steps</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">General Usage</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../usage/contacts/">Contacts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customers/">Customers / Members</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customer-notes/">Customer Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customer-tags/">Customer Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/interfaces/">Customer Connections</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/users/">Users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/switches/">Switches</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Features</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../as112/">AS112</a>
                </li>
                <li class="">
                    
    <a class="" href="../console-servers/">Console Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../cronjobs/">Cron Jobs</a>
                </li>
                <li class="">
                    
    <a class="" href="../patch-panels/">Cross Connects</a>
                </li>
                <li class="">
                    
    <a class="" href="../dns-arpa/">DNS / ARPA</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/introduction/">Grapher</a>
                </li>
                <li class="">
                    
    <a class="" href="../helpdesk/">Helpdesk Integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../irrdb/">IRRDB</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">IX-F Member Export</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#ix-f-member-list-export">IX-F Member List Export</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#preparing-the-ix-f-member-export">Preparing the IX-F Member Export</a></li>
        
            <li><a class="toctree-l4" href="#accessing-the-ix-f-member-list">Accessing the IX-F Member List</a></li>
        
            <li><a class="toctree-l4" href="#registering-your-api-endpoint-with-ixpdb">Registering Your API Endpoint With IXPDB</a></li>
        
            <li><a class="toctree-l4" href="#configuration-options">Configuration Options</a></li>
        
            <li><a class="toctree-l4" href="#example-member-lists">Example: Member Lists</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../looking-glass/">Looking Glass</a>
                </li>
                <li class="">
                    
    <a class="" href="../layer2-addresses/">MAC Addresses</a>
                </li>
                <li class="">
                    
    <a class="" href="../manrs/">MANRS</a>
                </li>
                <li class="">
                    
    <a class="" href="../member-export/">Member Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../mailing-lists/">Mailing List Management</a>
                </li>
                <li class="">
                    
    <a class="" href="../nagios/">Nagios</a>
                </li>
                <li class="">
                    
    <a class="" href="../patch-panels/">Patch Panels</a>
                </li>
                <li class="">
                    
    <a class="" href="../peering-manager/">Peering Manager</a>
                </li>
                <li class="">
                    
    <a class="" href="../peering-matrix/">Peering Matrix</a>
                </li>
                <li class="">
                    
    <a class="" href="../peeringdb/">PeeringDB</a>
                </li>
                <li class="">
                    
    <a class="" href="../rir-objects/">RIR Objects</a>
                </li>
                <li class="">
                    
    <a class="" href="../reseller/">Reseller Functionality</a>
                </li>
                <li class="">
                    
    <a class="" href="../route-collectors/">Route Collectors</a>
                </li>
                <li class="">
                    
    <a class="" href="../route-servers/">Route Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../routers/">Router Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../rpki/">RPKI</a>
                </li>
                <li class="">
                    
    <a class="" href="../skinning/">Skinning</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/smokeping/">Smokeping</a>
                </li>
                <li class="">
                    
    <a class="" href="../static-content/">Static Content</a>
                </li>
                <li class="">
                    
    <a class="" href="../tacacs/">TACACS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Grapher</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../grapher/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/api/">API &amp; Permissions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/mrtg/">Backend: MRTG</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/sflow/">Backend: sflow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/smokeping/">Backend: Smokeping</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Sflow Support</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../sflow/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../sflow-p2p/">Peer-to-peer Graphs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Development</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../dev/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/ci/">Continuous Integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/cla/">Contributer License Agreement</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/docker/">Docker</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/docs/">Documentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/forms/">Forms</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/frontend-crud/">Frontend CRUD</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/grapher/">Grapher</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/helpders/">Helpers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/looking-glass/">Looking Glass</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/release-procedure/">Release Procedure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/telescope/">Telescope</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/users/">Users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/vagrant/">Vagrant</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">IXP Manager Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>IX-F Member Export</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/inex/ixp-manager-docs-md/edit/master/docs/features/ixf-export.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="ix-f-member-list-export">IX-F Member List Export<a class="headerlink" href="#ix-f-member-list-export" title="Permanent link"></a></h1>
<p>The <a href="http://www.ix-f.net/ixp-database.html">IX-F Member Export</a> is an agreed and standardized JSON schema which allows IXPs to make their member lists available for consumption by tools such as <a href="https://www.peeringdb.com/">PeeringDB</a>, networks with automated peering managers, prospective members and the many other tools appearing in the peering eco-system.</p>
<blockquote>
<p>Historical reference: INEX created and hosted a proof of concept directory for the IX-F Export Schema until Euro-IX/IX-F took it in house in 2018.</p>
</blockquote>
<p>The key element of the IX-F Member Export is it makes you, the individual IXP, the canonical trusted source for data about <em>your own IXP</em>. Data that has the best chance of being correct and up to date. Particularly, PeeringDB has the option of allowing network data to be updated from IX records - <a href="../peeringdb/#syncing-ixp-owned-data-to-peeringdb-customer-records">see our documentation on this here</a>.</p>
<p>To find out more about the JSON schema and see examples, you can <a href="https://ixpdb.euro-ix.net/en/">read more here</a>, <a href="https://ixpdb.euro-ix.net/en/ixpdb/ixps/?reverse=&amp;sort=name&amp;q=&amp;api=on">explore many of the public IXP end points available here</a> or see the GitHub <a href="https://github.com/euro-ix/json-schemas">euro-ix/json-schemas</a> repository.</p>
<p><strong>IXP Manager</strong> supports the IX-F Member List Export out of the box. It previously supported all versions from 0.3 to 0.5 but we now only support 0.6, 0.7 and 1.0 (for &gt;=v5.1). We plan to deprecate support for 0.6 during 2019.</p>
<p><em>Sometimes you may need something more customized than the the IX-F Member Export. For that, see <a href="../member-export/">the other member export feature</a> if IXP Manager.</em></p>
<h2 id="preparing-the-ix-f-member-export">Preparing the IX-F Member Export<a class="headerlink" href="#preparing-the-ix-f-member-export" title="Permanent link"></a></h2>
<p>There are a small number of things you should do to ensure your IX-F export is correct.</p>
<p><strong>Correctly set the PeeringDB ID and IX-F ID</strong></p>
<p>The first is to ensure you have correctly set the PeeringDB ID and IX-F ID in your infrastructure (see <em>Infrastructures</em> under the left hand side <em>IXP ADMIN ACTIONS</em> menu).</p>
<p>The IX-F ID is mandatory. You will find yours by searching <a href="https://ixpdb.euro-ix.net/en/ixpdb/providers/">the IX-F providers database here</a>. If you are a new IXP that is not registered here, please email your IXP's: full name, short name, city / region / country, GPS co-ordinates and website URL to <code>ixpdb-admin (at) euro-ix (dot) net</code> so they can register it in the IXPDB.</p>
<p><strong>Create Network Info</strong></p>
<p>From <strong>IXP Manager</strong> v4.9 and above, click <em>VLANs</em> on the left-hand-side menu and then chose <em>Network Information</em>. Once there, add the network address and network mask length for IPv4 and IPv6 for your peering LAN(s).</p>
<p>Prior to v4.9, this was a little hacky: there is a database table called <code>networkinfo</code> that requires you to manually insert some detail on your peering LAN.</p>
<p>The first thing you need is the peering VLAN DB ID. <em>[clarification note: this is nothing to do with PeeringDB but the VLAN created within IXP Manager].</em> For this, select <em>VLANs</em> under the left hand side <em>IXP ADMIN ACTIONS</em> menu in IXP Manager. Locate your peering VLAN <em>DB ID</em> and note it.</p>
<p>For our example, we will use the following sample data:</p>
<ul>
<li>Peering VLAN <em>DB ID</em>: 66</li>
<li>IPv4 peering network: <code>192.0.2.0/25</code> with route servers on <code>.8</code> and <code>.9</code></li>
<li>IPv6 peering network: <code>2001:db8:1000::/64</code> with route servers on <code>.8</code> and <code>.9</code></li>
</ul>
<p>You need need to add this data to <code>networkinfo</code> with the following sample SQL commands:</p>
<div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="ss">`networkinfo`</span>
    <span class="p">(</span> <span class="ss">`vlanid`</span><span class="p">,</span> <span class="ss">`protocol`</span><span class="p">,</span> <span class="ss">`network`</span><span class="p">,</span> <span class="ss">`masklen`</span><span class="p">,</span> <span class="ss">`rs1address`</span><span class="p">,</span> <span class="ss">`rs2address`</span><span class="p">),</span>
<span class="k">VALUES</span>
    <span class="p">(</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;192.0.2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;25&#39;</span><span class="p">,</span> <span class="s1">&#39;192.0.2.8&#39;</span><span class="p">,</span> <span class="s1">&#39;192.0.2.9&#39;</span> <span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="ss">`networkinfo`</span>
    <span class="p">(</span> <span class="ss">`vlanid`</span><span class="p">,</span> <span class="ss">`protocol`</span><span class="p">,</span> <span class="ss">`network`</span><span class="p">,</span> <span class="ss">`masklen`</span><span class="p">,</span> <span class="ss">`rs1address`</span><span class="p">,</span> <span class="ss">`rs2address`</span><span class="p">),</span>
<span class="k">VALUES</span>
    <span class="p">(</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;2001:db8:1000::&#39;</span><span class="p">,</span> <span class="s1">&#39;64&#39;</span><span class="p">,</span> <span class="s1">&#39;2001:db8:1000::8&#39;</span><span class="p">,</span> <span class="s1">&#39;2001:db8:1000::9&#39;</span> <span class="p">);</span>
</pre></div>

<p><strong>Set Your IXP's Name / Country / etc</strong></p>
<p>The third task is to ensure your IXP's details are correct in the IX-F export.</p>
<p>You will most likely have nothing to do here as it would have been done on installation but this reference may prove useful if there are any issues.</p>
<p>These are mostly set in the <code>.env</code> file (as well as some other places) and the following table shows how they get mapped to the IX-F Export:</p>
<table>
<thead>
<tr>
<th>IX-F Export IXP Element</th>
<th>How to Set in IXP Manager</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>shortname</code></td>
<td>In IXP Manager, from the <em>Infrastructure</em> object name field</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>IDENTITY_LEGALNAME</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>country</code></td>
<td><code>IDENTITY_COUNTRY</code> from <code>.env</code> <strong>in 2-letter ISO2 format</strong></td>
</tr>
<tr>
<td><code>url</code></td>
<td><code>IDENTITY_CORPORATE_URL</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>peeringdb_id</code></td>
<td>In IXP Manager, from the <em>Infrastructure</em> object</td>
</tr>
<tr>
<td><code>ixf_id</code></td>
<td>In IXP Manager, from the <em>Infrastructure</em> object</td>
</tr>
<tr>
<td><code>support_email</code></td>
<td><code>IDENTITY_SUPPORT_EMAIL</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>support_phone</code></td>
<td><code>IDENTITY_SUPPORT_PHONE</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>support_contact_hours</code></td>
<td><code>IDENTITY_SUPPORT_HOURS</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>emergency_email</code></td>
<td><code>IDENTITY_SUPPORT_EMAIL</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>emergency_phone</code></td>
<td><code>IDENTITY_SUPPORT_PHONE</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>emergency_contact_hours</code></td>
<td><code>IDENTITY_SUPPORT_HOURS</code> from <code>.env</code></td>
</tr>
<tr>
<td><code>billing_email</code></td>
<td><code>IDENTITY_BILLING_EMAIL</code></td>
</tr>
<tr>
<td><code>billing_phone</code></td>
<td><code>IDENTITY_BILLING_PHONE</code></td>
</tr>
<tr>
<td><code>billing_contact_hours</code></td>
<td><code>IDENTITY_BILLING_HOURS</code></td>
</tr>
</tbody>
</table>
<p>We we say <em>from the Infrastructure object</em> above, we mean that when you are logged into IXP Manager as an admin, it's the <em>Infrastructures</em> menu option under <em>IXP Admin Actions</em> on the left hand side.</p>
<h2 id="accessing-the-ix-f-member-list">Accessing the IX-F Member List<a class="headerlink" href="#accessing-the-ix-f-member-list" title="Permanent link"></a></h2>
<p>If your version of IXP Manager is installed at, say, <em>https://ixp.example.com/</em>, then the IX-F Member List export can be accessed at:</p>
<div class="highlight"><pre><span></span>https://ixp.example.com/api/v4/member-export/ixf/1.0
</pre></div>

<p>where <em>1.0</em> is a version parameter which allows for support of potential future versions.</p>
<p>Note that the publicly accessible version does not include individual member details such as name, max prefixes, contact email and phone, when the member joined, member's web address, peering policy, NOC website, NOC hours or member type. This information is available to any logged in users or users querying <a href="../api/">the API with an API key</a>.</p>
<h2 id="registering-your-api-endpoint-with-ixpdb">Registering Your API Endpoint With IXPDB<a class="headerlink" href="#registering-your-api-endpoint-with-ixpdb" title="Permanent link"></a></h2>
<p>IXPDB requires two pieces of information to fully integrate with the IXPDB. You can provide this information to <code>ixpdb-admin (at) euro-ix (dot) net</code> or - if you have a login to the Euro-IX website, you should be able to login and edit your own IXP directly on IXPDB.</p>
<p>The first element needed is the API endpoint as described above in <em>Accessing the IX-F Member List</em>.</p>
<p>The second is the API endpoint to export your statistics. This is:</p>
<div class="highlight"><pre><span></span>https://ixp.example.com/grapher/infrastructure?id=1&amp;type=log&amp;period=day
</pre></div>

<p>where <code>id=1</code> is the infrastructure DB ID (see <em>Infrastructures</em> under the left hand side <em>IXP ADMIN ACTIONS</em> menu).</p>
<h2 id="configuration-options">Configuration Options<a class="headerlink" href="#configuration-options" title="Permanent link"></a></h2>
<p>To disable public access to the restricted member export, set the following in your <code>.env</code> file:</p>
<div class="highlight"><pre><span></span>IXP_API_JSONEXPORTSCHEMA_PUBLIC=false
</pre></div>

<p><strong>We strongly advise you not to disable public access if you are a standard IXP.</strong> Remember, the public version is essentially the same list as you would provide on your standard website's list of members.</p>
<p>In addition, membership of an IXP is easily discernible from a number of other sources including:</p>
<ul>
<li><a href="https://www.peeringdb.com">PeeringDB</a></li>
<li>Route collectors (your own, PCH, members’ own, ...)</li>
<li>Looking glasses</li>
<li>Traceroutes (and tools such as: https://www.inex.ie/ard/ )</li>
<li>RIPE RRCs / RIS, RIPE Atlas</li>
<li>Commercial products (Noction, ...)</li>
</ul>
<p>Leave public access available, own your own data, ensure it's validity and advertise it!</p>
<p>If you must disable public access but would still like to provide IX-F (or others) with access, you can set a static access key in your <code>.env</code> file such as:</p>
<div class="highlight"><pre><span></span>IXP_API_JSONEXPORTSCHEMA_ACCESS_KEY=&quot;super-secret-access-key&quot;
</pre></div>

<p>and then provide the URL in the format:</p>
<div class="highlight"><pre><span></span>https://ixp.example.com/api/v4/member-export/ixf/1.0?access_key=super-secret-access-key
</pre></div>

<p>If you wish to control access to the infrastructure statistics, see <a href="../../grapher/api/">the Grapher API documentation</a>. The statistics data is a JSON object representing each line of <a href="https://oss.oetiker.ch/mrtg/doc/mrtg-logfile.en.html">a <em>the rest of the file</em> from a standard MRTG log file</a>. This means the per-line array elements are:</p>
<ol>
<li>The Unix timestamp for the point in time the data on this line is relevant.</li>
<li>The average incoming transfer rate in bytes per second. This is valid for the time between the A value of the current line and the A value of the previous line.</li>
<li>The average outgoing transfer rate in bytes per second since the previous measurement.</li>
<li>The maximum incoming transfer rate in bytes per second for the current interval. This is calculated from all the updates which have occurred in the current interval. If the current interval is 1 hour, and updates have occurred every 5 minutes, it will be the biggest 5 minute transfer rate seen during the hour.</li>
<li>The maximum outgoing transfer rate in bytes per second for the current interval.</li>
</ol>
<h2 id="example-member-lists">Example: Member Lists<a class="headerlink" href="#example-member-lists" title="Permanent link"></a></h2>
<p>A common requirement of IXPs is to create a public member list on their official website. This can be done with the IX-F Member Export quite easily. The below HTML and JavaScript is a way to do it with INEX's endpoint. There's a <a href="https://jsfiddle.net/barryo/2tzuypf9/">live JSFiddle which demonstrates this also</a> - <a href="https://jsfiddle.net/barryo/2tzuypf9/">https://jsfiddle.net/barryo/2tzuypf9/</a>.</p>
<p>The HTML requires just a table with a placeholder and an <code>id</code> on the <code>body</code>:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;table table-bordered&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;margin: 10px&quot;</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
     <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Company<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
     <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>ASN<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
     <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Connections<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
 <span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">tbody</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;list-members&quot;</span><span class="p">&gt;</span>
     <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
         <span class="p">&lt;</span><span class="nt">td</span> <span class="na">colspan</span><span class="o">=</span><span class="s">&quot;3&quot;</span><span class="p">&gt;</span>Please wait, loading...<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
     <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
 <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</pre></div>

<p>The JavaScript loads the member list via the IX-F Export and processes it into the table above:</p>
<div class="highlight"><pre><span></span><span class="c1">// Sample IX-F Member Export to Member List script</span>
<span class="c1">//</span>
<span class="c1">// License: MIT (https://en.wikipedia.org/wiki/MIT_License)</span>
<span class="c1">// By @yannrobin and @barryo</span>
<span class="c1">// 2018-03-06</span>

<span class="kd">function</span> <span class="nx">prettySpeeds</span><span class="p">(</span> <span class="nx">s</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span><span class="p">(</span> <span class="nx">s</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">10</span><span class="o">:</span>     <span class="k">return</span> <span class="s2">&quot;10Mb&quot;</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">100</span><span class="o">:</span>    <span class="k">return</span> <span class="s2">&quot;100Mb&quot;</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">1000</span><span class="o">:</span>   <span class="k">return</span> <span class="s2">&quot;1Gb&quot;</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">10000</span><span class="o">:</span>  <span class="k">return</span> <span class="s2">&quot;10Gb&quot;</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">40000</span><span class="o">:</span>  <span class="k">return</span> <span class="s2">&quot;40Gb&quot;</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">100000</span><span class="o">:</span> <span class="k">return</span> <span class="s2">&quot;100Gb&quot;</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>     <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span> <span class="s2">&quot;https://www.inex.ie/ixp/api/v4/member-export/ixf/0.7&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">json</span> <span class="p">)</span> <span class="p">{</span>

      <span class="c1">// sort by name</span>
    <span class="nx">json</span><span class="p">[</span> <span class="s1">&#39;member_list&#39;</span> <span class="p">].</span><span class="nx">sort</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">nameA</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span> <span class="c1">// ignore upper and lowercase</span>
        <span class="kd">var</span> <span class="nx">nameB</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span> <span class="c1">// ignore upper and lowercase</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">nameA</span> <span class="o">&lt;</span> <span class="nx">nameB</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">nameA</span> <span class="o">&gt;</span> <span class="nx">nameB</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// names must be equal</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">});</span>

    <span class="kd">let</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">json</span><span class="p">[</span> <span class="s1">&#39;member_list&#39;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">member</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="sb">`&lt;tr&gt;</span>
<span class="sb">                     &lt;td&gt;</span>
<span class="sb">                         &lt;a target=&quot;_blank&quot; href=&quot;</span><span class="si">${</span><span class="nx">member</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="sb">&quot;&gt;</span><span class="si">${</span><span class="nx">member</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">&lt;/a&gt;</span>
<span class="sb">                     &lt;/td&gt;</span>
<span class="sb">                     &lt;td&gt;</span>
<span class="sb">                         &lt;a target=&quot;_blank&quot;</span>
<span class="sb">                             href=&quot;http://www.ripe.net/perl/whois?searchtext=</span><span class="si">${</span><span class="nx">member</span><span class="p">.</span><span class="nx">asnum</span><span class="si">}</span><span class="sb">&amp;form_type=simple&quot;&gt;</span>
<span class="sb">                             </span><span class="si">${</span><span class="nx">member</span><span class="p">.</span><span class="nx">asnum</span><span class="si">}</span><span class="sb"></span>
<span class="sb">                         &lt;/a&gt;</span>
<span class="sb">                     &lt;/td&gt;`</span><span class="p">;</span>

        <span class="kd">let</span> <span class="nx">connection</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">member</span><span class="p">[</span> <span class="s1">&#39;connection_list&#39;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">conn</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">conn</span><span class="p">[</span> <span class="s1">&#39;if_list&#39;</span> <span class="p">].</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">){</span>
                  <span class="nx">connection</span> <span class="o">+=</span> <span class="nx">conn</span><span class="p">[</span> <span class="s1">&#39;if_list&#39;</span> <span class="p">].</span><span class="nx">length</span><span class="o">+</span> <span class="s1">&#39;*&#39;</span>
            <span class="p">}</span>
            <span class="nx">connection</span> <span class="o">+=</span> <span class="nx">prettySpeeds</span><span class="p">(</span> <span class="nx">conn</span><span class="p">[</span> <span class="s1">&#39;if_list&#39;</span> <span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">if_speed</span> <span class="p">);</span>

            <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">member</span><span class="p">[</span> <span class="s1">&#39;connection_list&#39;</span> <span class="p">].</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)){</span>
              <span class="nx">connection</span> <span class="o">+=</span> <span class="s2">&quot; + &quot;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="nx">html</span> <span class="o">+=</span> <span class="sb">`&lt;td&gt;</span><span class="si">${</span><span class="nx">connection</span><span class="si">}</span><span class="sb">&lt;/td&gt;&lt;/tr&gt;</span><span class="err">\</span><span class="sb">n`</span><span class="p">;</span>
    <span class="p">});</span>

    <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#list-members&quot;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<p>The end result is a table that looks like:</p>
<p>Company             | ASN         | Connections        |
--------------------|----------------------------------|
3 Ireland           | 34218       | 2*10Gb + 2*10Gb  |
Afilias             | 12041       | 1Gb                |
...                 | ...         | ...                |</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../looking-glass/" class="btn btn-neutral float-right" title="Looking Glass">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../irrdb/" class="btn btn-neutral" title="IRRDB"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>&copy; 2017-2019, Internet Neutral Exchange Association Company Limited by Guarantee (INEX).<br><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" /></a>&nbsp;This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/inex/ixp-manager-docs-md/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../irrdb/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../looking-glass/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
