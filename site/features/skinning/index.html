<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Skinning - IXP Manager Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Skinning";
    var mkdocs_page_input_path = "features/skinning.md";
    var mkdocs_page_url = "/features/skinning/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> IXP Manager Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../install/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/automated-script/">Automated Script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/maint-mode/">Maintenance Mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/manually/">Manual Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/upgrading/">Upgrading</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/runtime/">Runtime Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/next-steps/">Post-Install Steps</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">General Usage</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../usage/authentication/">Authentication</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/contacts/">Contacts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customers/">Customers / Members</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customer-notes/">Customer Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customer-tags/">Customer Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/interfaces/">Customer Connections</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/users/">Users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/switches/">Switches</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Features</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../as112/">AS112</a>
                </li>
                <li class="">
                    
    <a class="" href="../console-servers/">Console Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../cronjobs/">Cron Jobs</a>
                </li>
                <li class="">
                    
    <a class="" href="../patch-panels/">Cross Connects</a>
                </li>
                <li class="">
                    
    <a class="" href="../dns-arpa/">DNS / ARPA</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/introduction/">Grapher</a>
                </li>
                <li class="">
                    
    <a class="" href="../helpdesk/">Helpdesk Integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../irrdb/">IRRDB</a>
                </li>
                <li class="">
                    
    <a class="" href="../ixf-export/">IX-F Member Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../looking-glass/">Looking Glass</a>
                </li>
                <li class="">
                    
    <a class="" href="../layer2-addresses/">MAC Addresses</a>
                </li>
                <li class="">
                    
    <a class="" href="../manrs/">MANRS</a>
                </li>
                <li class="">
                    
    <a class="" href="../member-export/">Member Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../mailing-lists/">Mailing List Management</a>
                </li>
                <li class="">
                    
    <a class="" href="../nagios/">Nagios</a>
                </li>
                <li class="">
                    
    <a class="" href="../patch-panels/">Patch Panels</a>
                </li>
                <li class="">
                    
    <a class="" href="../peering-manager/">Peering Manager</a>
                </li>
                <li class="">
                    
    <a class="" href="../peering-matrix/">Peering Matrix</a>
                </li>
                <li class="">
                    
    <a class="" href="../peeringdb/">PeeringDB</a>
                </li>
                <li class="">
                    
    <a class="" href="../rir-objects/">RIR Objects</a>
                </li>
                <li class="">
                    
    <a class="" href="../reseller/">Reseller Functionality</a>
                </li>
                <li class="">
                    
    <a class="" href="../route-collectors/">Route Collectors</a>
                </li>
                <li class="">
                    
    <a class="" href="../route-servers/">Route Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../routers/">Router Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../rpki/">RPKI</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Skinning</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#templates-skinning">Templates &amp; Skinning</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#skinning-in-version-v4">Skinning in Version &gt;=v4</a></li>
        
            <li><a class="toctree-l4" href="#skinning-old-templates-v49">Skinning Old Templates (&lt;v4.9)</a></li>
        
            <li><a class="toctree-l4" href="#finding-templates">Finding Templates</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/smokeping/">Smokeping</a>
                </li>
                <li class="">
                    
    <a class="" href="../static-content/">Static Content</a>
                </li>
                <li class="">
                    
    <a class="" href="../tacacs/">TACACS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Grapher</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../grapher/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/api/">API &amp; Permissions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/mrtg/">Backend: MRTG</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/sflow/">Backend: sflow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/smokeping/">Backend: Smokeping</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Sflow Support</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../sflow/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../sflow-p2p/">Peer-to-peer Graphs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Development</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../dev/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/authentication/">Authentication</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/ci/">Continuous Integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/cla/">Contributer License Agreement</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/docker/">Docker</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/docs/">Documentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/forms/">Forms</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/frontend-crud/">Frontend CRUD</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/grapher/">Grapher</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/helpders/">Helpers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/looking-glass/">Looking Glass</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/release-procedure/">Release Procedure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/telescope/">Telescope</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/users/">Users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dev/vagrant/">Vagrant</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">IXP Manager Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>Skinning</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/inex/ixp-manager-docs-md/edit/master/docs/features/skinning.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="templates-skinning">Templates &amp; Skinning<a class="headerlink" href="#templates-skinning" title="Permanent link"></a></h1>
<blockquote>
<p>Remember that v4 is a transition version of <strong>IXP Manager</strong> from Zend Framework / Smarty to Laravel and so much of the frontend / templating still uses v3 templates and code. As such, how to skin a page will depend on whether the template is found in <code>resources/views</code> (v4) or <code>application/[modules/xxx/]views</code> (v3). Both are covered here.</p>
</blockquote>
<p><strong>IXP Manager</strong> supports template/view skinning allowing users to substitute any of their own templates in place of the default ones shipped with IXP Manager.</p>
<h2 id="skinning-in-version-v4">Skinning in Version &gt;=v4<a class="headerlink" href="#skinning-in-version-v4" title="Permanent link"></a></h2>
<p>First, set the following parameter in <code>.env</code>:</p>
<div class="highlight"><pre><span></span>VIEW_SKIN=&quot;example&quot;
</pre></div>

<p>Skins should then be placed in the <code>resources/skins/example</code> directory (<code>example</code> should be substituted for whatever you want to call your own skin). The default templates can be found in <code>resources/views</code> directory. INEX bundles its own skinned templates in <code>resources/skins/inex</code> as an example.</p>
<p>Once a skin is enabled from <code>.env</code>, then any templates found in the skin directory <em>(using the same directory structure as found under <code>resouces/views</code>)</em> will take precedence over the default template file. This means you do not need to recreate / copy all the default files - just replace the ones you want.</p>
<p>In previous versions of <strong>IXP Manager</strong>, we used Smarty as the templating engine. This meant that if someone wanted to help improve <strong>IXP Manager</strong> then they would need to become familiar with PHP <em>and</em> Smarty. In v4 we dropped Smarty and, rather than using another compiled templating engine, we have decided to go with native PHP templates.</p>
<p>For this, we are using <a href="http://www.foilphp.it/">Foil</a> - <em>Foil brings all the flexibility and power of modern template engines to native PHP templates. Write simple, clean and concise templates with nothing more than PHP.</em> Also, simulaneously supported are Lavael's own <a href="https://laravel.com/docs/5.4/blade">Blade templates</a> which we sometimes use for simple pages.</p>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link"></a></h3>
<p>The <a href="../../grapher/introduction/">graphing</a> MRTG configuration generator allows for custom configuration content at the top and bottom of the file. In order to have your custom configuration enabled, you need to skin two files.</p>
<p>Here's an example:</p>
<div class="highlight"><pre><span></span># position ourselves in the IXP Manager root directory
cd ${IXPROOT}

# make the skin directory
mkdir resources/skins/example

# create the full path required for the MRTG configuration files:
mkdir -p resources/skins/example/services/grapher/mrtg

# copy over the customisation files:
cp views/services/grapher/mrtg/custom-header.foil.php resources/skins/example/services/grapher/mrtg
cp views/services/grapher/mrtg/custom-footer.foil.php resources/skins/example/services/grapher/mrtg

# edit the above files as required
vi resources/skins/example/services/grapher/mrtg/custom-header.plates.php
vi resources/skins/example/services/grapher/mrtg/custom-footer.plates.php
</pre></div>

<p>Then, finally, edit <code>.env</code> and set the skin to use:</p>
<div class="highlight"><pre><span></span>VIEW_SKIN=&quot;example&quot;
</pre></div>

<p>You can of course skin any file including the non-custom MRTG files as suits your needs.</p>
<h3 id="custom-variables-configuration-options">Custom Variables / Configuration Options<a class="headerlink" href="#custom-variables-configuration-options" title="Permanent link"></a></h3>
<p>When you are skinning your own templates, you may find you need to create custom configuration options for values you do not want to store directly in your own templates. For this, we have a configuration file which is excluded from Git. Initiate it via::</p>
<div class="highlight"><pre><span></span>cp config/custom.php.dist config/custom.php
</pre></div>

<p>This is <a href="https://laravel.com/docs/5.3/configuration">Laravel's standard configuration file format</a> (which is an associative PHP array). You can also use Laravel's dotenv variables here too.</p>
<p>As an example, if you were to create a configuration option:</p>
<div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="s1">&#39;example&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my own config value&#39;</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>

<p>then in code this would be accessible as:</p>
<div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nx">config</span><span class="p">(</span> <span class="s2">&quot;custom.example.key&quot;</span><span class="p">,</span> <span class="s2">&quot;default value if not set|null&quot;</span> <span class="p">)</span>
</pre></div>

<p>where the second parameter is a default option if the requested configuration setting has not been defined (which defaults to <code>null</code>). In templates, this can be accessed the same way or rendered in the template with::</p>
<div class="highlight"><pre><span></span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">config</span><span class="p">(</span> <span class="s2">&quot;custom.example.key&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span> <span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<h2 id="skinning-old-templates-v49">Skinning Old Templates (&lt;v4.9)<a class="headerlink" href="#skinning-old-templates-v49" title="Permanent link"></a></h2>
<p>This is still important as <strong>IXP Manager</strong> v4 still uses most of the previous templates.</p>
<p>To skin files found under <code>application/[modules/xxx/]views</code>, proceed as follows:</p>
<ol>
<li>
<p>set a skin name in <code>.env</code>:
   <div class="highlight"><pre><span></span>VIEW_SMARTY_SKIN=&quot;myskin&quot;
</pre></div></p>
</li>
<li>
<p>create a directory with a matching name: <code>application/views/_skins/myskin</code>.</p>
</li>
</ol>
<p>Once the above <code>.env</code> option is set, then any pages in its skin directory (using the same directory structure as <code>application/views</code> will take precedence over the default template files. This means you do not need to recreate / copy all the default files - just replace the ones you want.</p>
<h2 id="finding-templates">Finding Templates<a class="headerlink" href="#finding-templates" title="Permanent link"></a></h2>
<p>Usually there is one of two places to find a template:</p>
<ul>
<li>New pages in &gt;=v4: <code>resources/views/$controller/$action</code></li>
<li>Old pages from &lt;v4: <code>application/views/$controller/$action</code></li>
</ul>
<p>If you're skinning, then there's an extra two places:</p>
<ul>
<li>New pages in &gt;=v4: <code>resources/skins/$skin/$controller/$action</code></li>
<li>Old pages from &lt;v4: <code>application/views/_skins/$skin/$controller/$action</code></li>
</ul>
<p>The indicated variables above mean:</p>
<ul>
<li><code>$controller</code>: typically the first part of the URL (after the main IXP Manager site) for the page you are looking at. Examples include: <code>patch-panel</code>, <code>router</code> but they may also be deeper API paths such as <code>api/v4/router</code>.</li>
<li><code>$action</code>: the last part of the URL such as <code>edit</code>.</li>
<li><code>$skin</code>: the name of your skin as defined above.</li>
</ul>
<p><strong>Typically</strong>, following the URL path in the views directory will yield the template file you need.</p>
<p>To help identify if the page you are looking at is from the <v4 or >=v4 code base, we have added a HTML comment to the templates which appears just after the <code>&lt;head&gt;</code> tag as follows:</p>
<ul>
<li>
<p>For &gt;=v4 (new codebase):</p>
<div class="highlight"><pre><span></span><span class="c">&lt;!--  IXP MANAGER - template directory: resources/[views|skins] --&gt;</span>
</pre></div>

</li>
<li>
<p>For &lt;v4 (old codebase):</p>
<div class="highlight"><pre><span></span><span class="c">&lt;!--  IXP MANAGER - template directory: application/views --&gt;</span>
</pre></div>

</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../grapher/smokeping/" class="btn btn-neutral float-right" title="Smokeping">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../rpki/" class="btn btn-neutral" title="RPKI"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>&copy; 2017-2019, Internet Neutral Exchange Association Company Limited by Guarantee (INEX).<br><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" /></a>&nbsp;This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/inex/ixp-manager-docs-md/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../rpki/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../grapher/smokeping/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
