<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Forms - IXP Manager Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Forms";
    var mkdocs_page_input_path = "dev/forms.md";
    var mkdocs_page_url = "/dev/forms/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> IXP Manager Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../install/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/automated-script/">Automated Script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/maint-mode/">Maintenance Mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/manually/">Manual Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/upgrading/">Upgrading</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/runtime/">Runtime Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../install/next-steps/">Post-Install Steps</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">General Usage</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../usage/contacts/">Contacts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customers/">Customers / Members</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customer-notes/">Customer Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/customer-tags/">Customer Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/interfaces/">Customer Connections</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/users/">Users</a>
                </li>
                <li class="">
                    
    <a class="" href="../../usage/switches/">Switches</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Features</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../features/api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/as112/">AS112</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/console-servers/">Console Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/cronjobs/">Cron Jobs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/patch-panels/">Cross Connects</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/dns-arpa/">DNS / ARPA</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/introduction/">Grapher</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/helpdesk/">Helpdesk Integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/irrdb/">IRRDB</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/ixf-export/">IX-F Member Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/looking-glass/">Looking Glass</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/layer2-addresses/">MAC Addresses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/manrs/">MANRS</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/member-export/">Member Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/mailing-lists/">Mailing List Management</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/nagios/">Nagios</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/patch-panels/">Patch Panels</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/peering-manager/">Peering Manager</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/peering-matrix/">Peering Matrix</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/peeringdb/">PeeringDB</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/rir-objects/">RIR Objects</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/reseller/">Reseller Functionality</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/route-collectors/">Route Collectors</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/route-servers/">Route Servers</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/routers/">Router Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/rpki/">RPKI</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/skinning/">Skinning</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/smokeping/">Smokeping</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/static-content/">Static Content</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/tacacs/">TACACS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Grapher</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../grapher/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/api/">API &amp; Permissions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/mrtg/">Backend: MRTG</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/sflow/">Backend: sflow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../grapher/smokeping/">Backend: Smokeping</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Sflow Support</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../features/sflow/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/sflow-p2p/">Peer-to-peer Graphs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Development</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../ci/">Continuous Integration</a>
                </li>
                <li class="">
                    
    <a class="" href="../cla/">Contributer License Agreement</a>
                </li>
                <li class="">
                    
    <a class="" href="../docker/">Docker</a>
                </li>
                <li class="">
                    
    <a class="" href="../docs/">Documentation</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Forms</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#forms">Forms</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#html5-validation">HTML5 Validation</a></li>
        
            <li><a class="toctree-l4" href="#checkboxes">Checkboxes</a></li>
        
            <li><a class="toctree-l4" href="#mardown-textarea">Mardown Textarea</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../frontend-crud/">Frontend CRUD</a>
                </li>
                <li class="">
                    
    <a class="" href="../grapher/">Grapher</a>
                </li>
                <li class="">
                    
    <a class="" href="../helpders/">Helpers</a>
                </li>
                <li class="">
                    
    <a class="" href="../looking-glass/">Looking Glass</a>
                </li>
                <li class="">
                    
    <a class="" href="../release-procedure/">Release Procedure</a>
                </li>
                <li class="">
                    
    <a class="" href="../telescope/">Telescope</a>
                </li>
                <li class="">
                    
    <a class="" href="../users/">Users</a>
                </li>
                <li class="">
                    
    <a class="" href="../vagrant/">Vagrant</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">IXP Manager Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Development &raquo;</li>
        
      
    
    <li>Forms</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/inex/ixp-manager-docs-md/edit/master/docs/dev/forms.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="forms">Forms<a class="headerlink" href="#forms" title="Permanent link"></a></h1>
<p>This page collates various notes and bets practice for writing HTML forms with IXP Manager and Laravel.</p>
<p><strong>IXP Manager</strong> uses the library <a href="https://github.com/formers/former">Former</a> to generate forms. <a href="https://github.com/formers/former/wiki/Usage-and-Examples">Here are some examples</a> of how to use Former.</p>
<h2 id="html5-validation">HTML5 Validation<a class="headerlink" href="#html5-validation" title="Permanent link"></a></h2>
<p>Former adds HTML5 validation tags when it created forms. If you wish to test the PHP code's validation rules, you will need to disable this is development by setting the following <code>.env</code> setting:</p>
<pre class="highlight"><code>FORMER_LIVE_VALIDATION=false</code></pre>

<h2 id="checkboxes">Checkboxes<a class="headerlink" href="#checkboxes" title="Permanent link"></a></h2>
<p>We had some issues using Former's checkboxes correctly - this is why we are providing the <em>correct</em> way to use them.</p>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link"></a></h3>
<p>First make sure that the Former configuration file (<code>config/former.php</code>) is correctly configured:</p>
<pre class="highlight"><code class="language-php">// Whether checkboxes should always be present in the POST data,
// no matter if you checked them or not
'push_checkboxes'         =&gt; true,

// The value a checkbox will have in the POST array if unchecked
'unchecked_value'         =&gt; 0,</code></pre>

<h3 id="view">View<a class="headerlink" href="#view" title="Permanent link"></a></h3>
<p>The following is the structure of a checkbox input:</p>
<ul>
<li><code>Former::checkbox( 'checkbox-name' )</code> will be the HTML <code>name=""</code> of the input in the DOM.</li>
<li><code>-&gt;id( 'checkbox-id' )</code> will be the HTML `id=""`` of the input in the DOM, it is not required and defaults to the name above.</li>
<li><code>-&gt;label( 'my-label' )</code> will be the label of the input displayed on the <em>left</em> of the checkbox, it is not required. If you are just using a right hand side text label, setting this to <code>'&amp;nbsp;'</code> can help improve layout.</li>
<li><code>-&gt;label( 'my-text' )</code> will be the text of the input displayed on the <em>right</em> of the checkbox, it is not required.</li>
<li><code>-&gt;value( 1 )</code> <strong>this is really important for the correct functioning of the checkboxes</strong>.</li>
<li><code>-&gt;blockHelp( "help text”)</code> will be the help text of the checkbox.</li>
</ul>
<p><strong>Note:</strong> in this example the checkbox will be unchecked:</p>
<pre class="highlight"><code class="language-php">Former::checkbox( 'checkbox-name' )
    -&gt;id( 'checkbox-id' )
    -&gt;label( 'my-label' )
    -&gt;text( 'my-text' )
    -&gt;value( 1 )
    -&gt;blockHelp( "Help text” );</code></pre>

<p>To check a checkbox by default add the following function to the checkbox structure above:</p>
<pre class="highlight"><code class="language-php">    -&gt;check()</code></pre>

<p>If the checkbox has to be checked depending on a variable:</p>
<pre class="highlight"><code class="language-php">    -&gt;check( $myVariableIsChecked ? 1 : 0 )</code></pre>

<p><strong>Note:</strong> The above case should be an exception and not a common way to populate the checkboxes. To populate the checkboxes correctly you have to do it via the controller as explained below.</p>
<h3 id="controller">Controller<a class="headerlink" href="#controller" title="Permanent link"></a></h3>
<p>You can populate a form via the controller with the function <code>Former::populate()</code> by the usual method of passing an array of values:</p>
<pre class="highlight"><code class="language-php">Former::populate([
    'my-checkbox' =&gt; $object-&gt;isChecked() ? 1 : 0,
]);</code></pre>

<h2 id="mardown-textarea">Mardown Textarea<a class="headerlink" href="#mardown-textarea" title="Permanent link"></a></h2>
<p><strong>IXP Manager</strong> uses the library <a href="https://github.com/erusev/parsedown">Mardown</a> to edit notes input field. <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Here are some examples</a> of how to use Markdown.</p>
<h3 id="view_1">View<a class="headerlink" href="#view_1" title="Permanent link"></a></h3>
<p>You will have to use the following HTML structure to be able to add markdown to your textrea :</p>
<p><pre class="highlight"><code class="language-html">&lt;div class="form-group"&gt;
    &lt;label for="notes" class="control-label col-lg-2 col-sm-4"&gt;Notes&lt;/label&gt;
    &lt;div class="col-sm-8"&gt;
        &lt;ul class="nav nav-tabs"&gt;
            &lt;li role="presentation" class="active"&gt;
                &lt;a class="tab-link-body-note" href="#body"&gt;Body&lt;/a&gt;
            &lt;/li&gt;
            &lt;li role="presentation"&gt;
                &lt;a class="tab-link-preview-note" href="#preview"&gt;Preview&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
        &lt;br&gt;
        &lt;div class="tab-content"&gt;
            &lt;div role="tabpanel" class="tab-pane active" id="body"&gt;
                &lt;textarea class="form-control" style="font-family:monospace;" rows="20" id="notes" name="notes"&gt;&lt;?= $note_value ?&gt;&lt;/textarea&gt;
            &lt;/div&gt;
            &lt;div role="tabpanel" class="tab-pane" id="preview"&gt;
                &lt;div class="well well-preview" style="background: rgb(255,255,255);"&gt;
                    Loading...
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;br&gt;&lt;br&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
The <code>href="#body"</code> from <code>&lt;a id="tab-link-body" class="tab-link-body-note" href="#body"&gt;Body&lt;/a&gt;</code> have to match with the <code>id="body"</code> from <code>&lt;div role="tabpanel" class="tab-pane active" id="body"&gt;</code>.</p>
<p>The same for <code>&lt;a  id="tab-link-preview" class="tab-link-preview-note" href="#preview"&gt;Preview&lt;/a&gt;</code> and <code>&lt;div role="tabpanel" class="tab-pane" id="preview"&gt;</code>.</p>
<p>If you want to add <strong>more than one</strong> textarea with markdown to your page you will have to make sure that the HTML ID of the inputs are different like on the following example :</p>
<pre class="highlight"><code class="language-html">
&lt;div class="form-group"&gt;
    &lt;label for="notes" class="control-label col-lg-2 col-sm-4"&gt;Public Notes&lt;/label&gt;
    &lt;div class="col-sm-8"&gt;

        &lt;ul class="nav nav-tabs"&gt;
            &lt;li role="presentation" class="active"&gt;
                &lt;a class="tab-link-body-note" href="#body1"&gt;Body&lt;/a&gt;
            &lt;/li&gt;
            &lt;li role="presentation"&gt;
                &lt;a class="tab-link-preview-note" href="#preview1"&gt;Preview&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;

        &lt;br&gt;

        &lt;div class="tab-content"&gt;
            &lt;div role="tabpanel" class="tab-pane active" id="body1"&gt;
                &lt;textarea class="form-control" style="font-family:monospace;" rows="20" id="notes" name="notes"&gt;&lt;?= $t-&gt;notes ?&gt;&lt;/textarea&gt;
                &lt;p class="help-block"&gt;These notes are visible (but not editable) to the member. You can use markdown here.&lt;/p&gt;
            &lt;/div&gt;
            &lt;div role="tabpanel" class="tab-pane" id="preview1"&gt;
                &lt;div class="well well-preview" style="background: rgb(255,255,255);"&gt;
                    Loading...
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;br&gt;&lt;br&gt;
    &lt;/div&gt;

&lt;/div&gt;


&lt;div class="form-group"&gt;

    &lt;label for="private_notes" class="control-label col-lg-2 col-sm-4"&gt;Private Notes&lt;/label&gt;
    &lt;div class="col-sm-8"&gt;

        &lt;ul class="nav nav-tabs"&gt;
            &lt;li role="presentation" class="active"&gt;
                &lt;a class="tab-link-body-note" href="#body2"&gt;Body&lt;/a&gt;
            &lt;/li&gt;
            &lt;li role="presentation"&gt;
                &lt;a class="tab-link-preview-note" href="#preview2"&gt;Preview&lt;/a&gt;    
            &lt;/li&gt;
        &lt;/ul&gt;

        &lt;br&gt;

        &lt;div class="tab-content"&gt;
            &lt;div role="tabpanel" class="tab-pane active" id="body2"&gt;
                &lt;textarea class="form-control" style="font-family:monospace;" rows="20" id="private_notes" name="private_notes"&gt;&lt;?= $t-&gt;private_notes ?&gt;&lt;/textarea&gt;
                &lt;p class="help-block"&gt;These notes are &lt;b&gt;NOT&lt;/b&gt; visible to the member. You can use markdown here.&lt;/p&gt;
            &lt;/div&gt;
            &lt;div role="tabpanel" class="tab-pane" id="preview2"&gt;
                &lt;div class="well well-preview" style="background: rgb(255,255,255);"&gt;
                    Loading...
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;br&gt;&lt;br&gt;
    &lt;/div&gt;

&lt;/div&gt;
</code></pre>

<p><strong>Note:</strong> Please <strong>do not</strong> change the HTML <strong>class</strong> of the elements!</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../frontend-crud/" class="btn btn-neutral float-right" title="Frontend CRUD">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../docs/" class="btn btn-neutral" title="Documentation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>&copy; 2017-2019, Internet Neutral Exchange Association Company Limited by Guarantee (INEX).<br><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" /></a>&nbsp;This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/inex/ixp-manager-docs-md/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../docs/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../frontend-crud/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
